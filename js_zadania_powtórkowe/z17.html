<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zadanie 17</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header id="header"></header>

    <div class="menu">
        <a href="z2.html"><h5>Zadanie 2</h5></a>
        <a href="z3.html"><h5>Zadanie 3</h5></a>
        <a href="z4.html"><h5>Zadanie 4</h5></a>
        <a href="z5.html"><h5>Zadanie 5</h5></a>
        <a href="z6.html"><h5>Zadanie 6</h5></a>
        <a href="z8.html"><h5>Zadanie 8</h5></a>
        <a href="z9.html"><h5>Zadanie 9</h5></a>
        <a href="z10.html"><h5>Zadanie 10</h5></a>
        <a href="z11.html"><h5>Zadanie 11</h5></a>
        <a href="z12.html"><h5>Zadanie 12</h5></a>
        <a href="z13.html"><h5>Zadanie 13</h5></a>
        <a href="z14.html"><h5>Zadanie 14</h5></a>
        <a href="z15.html"><h5>Zadanie 15</h5></a>
        <a href="z16.html"><h5>Zadanie 16</h5></a>
        <a href="z17.html"><h5>Zadanie 17</h5></a>
        <a href="z18.html"><h5>Zadanie 18</h5></a>
        <a href="z19.html"><h5>Zadanie 19</h5></a>
        <a href="z20.html"><h5>Zadanie 20</h5></a>
        <a href="z21.html"><h5>Zadanie 21</h5></a>
        <a href="z22.html"><h5>Zadanie 22</h5></a>
    </div>
    

    <div class="zawartosc">
        <h3>Walidacja danych:</h3>
        <label for="kodPocztowy">Kod pocztowy (CC-CCC):</label>
        <input type="text" id="kodPocztowy" placeholder="00-000"><br>

        <label for="email">E-mail:</label>
        <input type="email" id="email" placeholder="przyklad@domena.com"><br>

        <label for="pesel">Numer PESEL:</label>
        <input type="text" id="pesel" placeholder="00000000000"><br>

        <button onclick="walidujDane()">Sprawdź</button>

        <div class="wynik" id="wynik"></div>
    </div>

    <footer>
        <span id="data"></span> | 
        <span id="zegar"></span> | 
        <span id="ostatnia_modyfikacja"></span>
    </footer>

    <script>
        let losowy = Math.floor(Math.random() * 6) + 1;
        document.getElementById("header").innerHTML = "<img src='" + losowy + ".png' alt='Banner Image'>";

        window.onbeforeunload = function () {
            return "Czy na pewno chcesz zamknąć stronę?";
        };

        function aktualizujDate() {
            const dataElement = document.getElementById("data");
            const zegarElement = document.getElementById("zegar");
            const ostatniaModyfikacjaElement = document.getElementById("ostatnia_modyfikacja");

            const dzisiaj = new Date();
            dataElement.innerHTML = "Dzisiaj: " + dzisiaj.toLocaleDateString("pl-PL");
            zegarElement.innerHTML = "Godzina: " + dzisiaj.toLocaleTimeString("pl-PL");
            ostatniaModyfikacjaElement.innerHTML = "Ostatnia modyfikacja: " + document.lastModified;
        }

        setInterval(aktualizujDate, 1000); // Aktualizacja co sekundę

        function walidujDane() {
            const kodPocztowy = document.getElementById("kodPocztowy").value;
            const email = document.getElementById("email").value;
            const pesel = document.getElementById("pesel").value;
            const wynikElement = document.getElementById("wynik");
            let wynik = "";

            // Walidacja kodu pocztowego
            const kodPocztowyRegex = /^\d{2}-\d{3}$/;
            if (!kodPocztowyRegex.test(kodPocztowy)) {
                wynik += "Kod pocztowy jest niepoprawny. Format to CC-CCC.<br>";
            } else {
                wynik += "Kod pocztowy jest poprawny.<br>";
            }

            // Walidacja e-maila
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                wynik += "E-mail jest niepoprawny.<br>";
            } else {
                wynik += "E-mail jest poprawny.<br>";
            }

            // Walidacja numeru PESEL
            const peselRegex = /^\d{11}$/;
            if (!peselRegex.test(pesel)) {
                wynik += "PESEL jest niepoprawny. Powinien składać się z 11 cyfr.<br>";
            } else {
                const plec = pesel[9] % 2 === 0 ? "Kobiety" : "Mężczyzny";
                wynik += "PESEL jest poprawny. To jest PESEL " + plec + ".<br>";
            }

            wynikElement.innerHTML = wynik;
        }
    </script>
</body>
</html>
